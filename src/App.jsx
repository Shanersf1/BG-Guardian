function App() { useEffect(() => { if (Capacitor.getPlatform() !== 'web') { const t = setTimeout(() => { try { MyUiReadyPlugin.uiReady().then(() => { console.log('[App] uiReady() called - pending updates flushed to WebView'); }).catch((err) => { console.warn('[App] uiReady() failed:', err); }); } catch (err) { console.warn('[App] MyUiReadyPlugin.uiReady not available:', err); } }, 500); return () => clearTimeout(t); } }, []); return ( <> <AppRefreshListener /> <Router> <NavigationTracker /> <Routes> <Route path="/" element={ <LayoutWrapper currentPageName={mainPageKey}> <MainPage /> </LayoutWrapper> } /> {Object.entries(Pages).map(([path, Page]) => ( <Route key={path} path={`/${path}`} element={ <LayoutWrapper currentPageName={path}> <Page /> </LayoutWrapper> } /> ))} <Route path="*" element={<PageNotFound />} /> </Routes> <Toaster /> </Router> </> ) } export default App
